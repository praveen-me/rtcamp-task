!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("redux-thunk")},function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),a=n(0),c=n.n(a),i=n(8),u=n(5),l=n(1),s=n(2),f=n(4),p=n.n(f),y="GET_POSTS",m="GET_CATEGORIES",b="GET_SINGLE_POST",g="https://rtcamp.com/wp-json/wp/v2",d={getPosts:function(e,t,n){return function(r){p.a.get("".concat(g,"/posts?per_page=").concat(t,"&page=").concat(e)).then(function(e){var t=[];r({type:y,payload:{posts:e.data,totalPages:function(){for(var n=1;n<=Number(e.headers["x-wp-totalpages"]);n++)t.push(n);return t}()}}),n(!0)})}},getCategories:function(e){return function(t){p.a.get("".concat(g,"/categories/")).then(function(n){t({type:m,categories:n.data.map(function(e){return{id:e.id,name:e.name}})}),e(!0)})}},getPostsByCategories:function(e,t,n,r){return function(o){p.a.get("".concat(g,"/posts?categories=").concat(e,"&per_page=").concat(n,"&page=").concat(t)).then(function(e){var t=[];o({type:y,payload:{posts:e.data,totalPages:function(){for(var n=1;n<=Number(e.headers["x-wp-totalpages"]);n++)t.push(n);return t}()}}),r(!0)})}},getSinglePost:function(e){return function(t){p.a.get("".concat(g,"/posts/").concat(e)).then(function(e){t({type:b,post:e.data})}).catch(function(e){return console.log(e.status)})}}},h=n(3);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=O(t).call(this,e),n=!o||"object"!==v(o)&&"function"!=typeof o?S(r):o,_(S(n),"handlePagination",function(e){n.setState({currentPage:Number(e.target.innerHTML)},function(){var e=n.state,t=e.perPage,r=e.currentPage,o=e.currentCategory;o&&"default"!==o?n.postsByCategories(r,t,o):n.getAllPostForPage(r,t)})}),_(S(n),"getAllPostForPage",function(e,t){n.props.dispatch(d.getPosts(e,t,function(e){e&&(n.state.getCategories?n.props.dispatch(d.getCategories(function(e){e&&n.setState({getCategories:!1,isLoading:!1})})):n.setState({isLoading:!1}))}))}),_(S(n),"handlePostsByCategories",function(e){var t=e.target.value;n.setState({currentCategory:t,currentPage:1},function(){var e=n.state,t=e.currentCategory,r=e.perPage;n.postsByCategories(1,r,t)})}),_(S(n),"postsByCategories",function(e,t,r){if(Number.isNaN(Number(r))){if("default"===r){var o=n.state,a=o.perPage,c=o.currentPage;n.getAllPostForPage(c,a)}}else n.props.dispatch(d.getPostsByCategories(Number(r),e,t,function(e){e&&n.setState({isLoading:!1})}))}),n.state={perPage:10,isLoading:!0,currentPage:1,getCategories:!0,currentCategory:""},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.state,t=e.perPage,n=e.currentPage,r=e.currentCategory;this.getAllPostForPage(n,t,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.posts,r=t.totalPages,o=t.categories,a=this.state,i=(a.isLoading,a.currentPage);return c.a.createElement("section",{className:"Home"},c.a.createElement("div",{className:"hero"}),c.a.createElement("div",{className:"block wrapper"},r?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categories-block"},c.a.createElement("select",{name:"currentCategory",onChange:this.handlePostsByCategories},c.a.createElement("option",{value:"default"},"Select Category"),o.map(function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.name)}))),c.a.createElement("div",{className:"blogs-container"},c.a.createElement("p",null,"Latest from the Blog"),n.map(function(e){return c.a.createElement("div",{className:"post-block",key:e.id},c.a.createElement("h3",{className:"post-title"},c.a.createElement(l.Link,{to:"/posts/".concat(e.id)},e.title.rendered)),c.a.createElement("div",{className:"post-excerpt",dangerouslySetInnerHTML:{__html:e.excerpt.rendered}}))})),c.a.createElement("ul",{className:"pagination"},r.map(function(t,n){return c.a.createElement("li",{key:n,className:"page-container"},c.a.createElement("button",{className:"page",disabled:i==n+1,onClick:e.handlePagination},t))}))):c.a.createElement("p",null,"Loading...")))}}])&&P(n.prototype,r),o&&P(n,o),t}();var j={component:Object(s.connect)(function(e){return{posts:e.posts,totalPages:e.totalPages,categories:e.categories}})(w),loadData:function(e){return e.dispatch(d.getPosts(1,10,function(){}))}};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,N(t).call(this,e))).state={post:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.dispatch(d.getSinglePost(e))}},{key:"render",value:function(){var e=this.props.post;return c.a.createElement("section",null,c.a.createElement("div",{className:"wrapper"},e?c.a.createElement("div",{className:"post-block"},c.a.createElement(h.Helmet,null,c.a.createElement("meta",{charSet:"utf-8"}),c.a.createElement("title",null,e.title.rendered),c.a.createElement("link",{rel:"canonical",href:"/posts/".concat(e.id)})),c.a.createElement("h2",{className:"post-title center"},e.title.rendered),c.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content.rendered}})):c.a.createElement("p",null,"Loading...")))}}])&&T(n.prototype,r),o&&T(n,o),t}();var R={component:Object(s.connect)(function(e,t){var n=t.match.params.id;return{post:e.currentPost,id:n}})(L),loadData:function(e,t){return e.dispatch(d.getSinglePost(t))}};function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){M(e,t,n[t])})}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=[D({},j,{path:"/",exact:!0}),D({},R,{path:"/posts/:id",exact:!0})];function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,F(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){return c.a.createElement("header",{className:"wrapper"},c.a.createElement("h1",{className:"logo"},c.a.createElement(l.Link,{to:"/"},"Simple Blog Theme")),c.a.createElement("p",null,"Just another Wordpress Theme"))}}])&&A(n.prototype,r),o&&A(n,o),t}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,V(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){return c.a.createElement("footer",{className:"center"},c.a.createElement("p",{className:"footer-text"},"WP REST API + REACTJS"),c.a.createElement("p",null,"Starter Theme"))}}])&&J(n.prototype,r),o&&J(n,o),t}();var K=n(6),Q=n(9),Y=n.n(Q);function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$(e,t,n[t])})}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={posts:null,totalPages:0,categories:[],currentPost:null};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n=t.payload;return Z({},e,{posts:n.posts,totalPages:n.totalPages,currentPost:null});case m:return Z({},e,{categories:t.categories});case b:return Z({},e,{currentPost:t.post});default:return e}};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var re="object"===("undefined"==typeof window?"undefined":ne(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):K.compose,oe=Object(K.createStore)(te,re(Object(K.applyMiddleware)(Y.a))),ae=o()();function ce(e,t){var n=Object(u.matchRoutes)(q,e.path).map(function(t){var n=t.route;if(e.params.id){var r=e.params.id;return n.loadData(oe,r)}return n.loadData?n.loadData(oe):null});Promise.all(n).then(function(){return t.send((n=e.path,r=oe,o=h.Helmet.renderStatic(),a=Object(i.renderToString)(c.a.createElement(s.Provider,{store:r},c.a.createElement(l.StaticRouter,{context:{},location:n},c.a.createElement(c.a.Fragment,null,c.a.createElement(G,null),c.a.createElement("main",null,Object(u.renderRoutes)(q)),c.a.createElement(z,null))))),"\n    <!doctype html>\n    <html ".concat(o.htmlAttributes.toString(),'>\n      <head>\n        <title>Simple Blog Theme - RT Camp Task</title>\n        <link rel="stylesheet" href="/bundle.css" />\n        ').concat(o.title.toString(),"\n        ").concat(o.meta.toString(),"\n        ").concat(o.link.toString(),"\n      </head>\n      <body  ").concat(o.bodyAttributes.toString(),'>\n        <div id="root">').concat(a,'</div>\n        <script src="/client.bundle.js"><\/script>\n      </body>\n    </html>\n  ')));var n,r,o,a})}ae.use(o.a.static("dist")),ae.get("/",function(e,t){ce(e,t)}),ae.get("/posts/:id",function(e,t){ce(e,t)}),ae.get("*",function(e,t){t.send("404")});var ie=process.env.PORT||3001;ae.listen(ie,function(e){console.log("Server is running on http://localhost:3001")})}]);